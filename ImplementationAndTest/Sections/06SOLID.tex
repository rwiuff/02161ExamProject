\section{SOLID principer} \label{chap:solid}
Nogle SOLID principper er blevet benyttet og vil herunder blive gennemgået med kodeeksempler.

\subsection{Single responsibility principle} \label{sec:solid_s}
I forbindelse med at designe programmet efter mønstre som nævnt i forrige kapitel, har det også været naturligt at opdele klasser til kun af have et enkelt formål. Det ses som eksempel på \textit{Persistency} klasserne \texttt{ProjectRepository.java} og \texttt{EmployeeRepository}, der henholdsvis har ansvaret for at håndtere de primære hovedobjekt-klasser; \textit{Employee's} og \textit{Project}'s.

Derudover er alle klassers metoder som udgangspunkt lavet til at kun at have et enkelt formål. Herunder i \ref{lst:single_responsibility_source} er to eksempler på metoder fra \texttt{Employee.java}, hvis eneste formål er at validere det givne argument.
\begin{listing}[H]
    \centering
    \caption{Single resposibility metoder}\label{lst:single_responsibility_source}
    \begin{minted}[breaklines]{java}
  private String validateFirstName(String firstName) throws InvalidPropertyException {
    if (firstName.length() < 2) {
      throw new InvalidPropertyException("Fornavn mangler");
    }
    return firstName;
  }

  private String validateLastName(String lastName) throws InvalidPropertyException {
    if (lastName.length() < 2) {
      throw new InvalidPropertyException("Efternavn mangler");
    }
    return lastName;
  }

    \end{minted}
\end{listing}


Der er dog enkelte metoder, der kunne optimeres i forhold til \textit{Single resposibility} principet. Her kan nævnes \textit{createProjectActivity()} som beskrevet i \textit{White box test} \ref{chap:white_box_create_project_activity} kapitlet. Denne metode er både ansvarlig for at acceptere om en medarbejder kan oprette en projekt aktiviet, og derefter også at oprette den. Her kunne man refaktorere til, at tjekket om medarbejderen må oprette en aktivitet, lå udenfor metoden.

\subsection{Open/closed principle} \label{sec:solid_o}
%Det lyder fra opgaveformuleringen, at der skal være mulighed for at opdele projekter op i aktiviteter, og at der skal være mulighed for at lave faste aktiviteter til registrering af bl.a. ferie og kurser, som ikke er knyttet til projekter. Et simpelt eksempel hvor open-closed princippet er blevet benyttet til at imødekomme førnævnte er at lave en abstrakt klasse kaldet \texttt{activity.java}, som vist herunder i figur \ref{fig:class_activity_example}. Denne har de enkelte felter som \texttt{title}, \texttt{startweek}, \texttt{endweek}, samt exceptions og getter-metoder og ikke mere. Det er muligt at udvide (extend) denne klasse således at der kan laves to underklasser, \texttt{ProjectActivity.java} og \texttt{RegularActivity.java}. På den måde er \texttt{Activity} lukket for ændringer men åben for udvidelser. 

%Der er desuden også det argument, at \textit{single responsibilty princippet} bliver fulgt, da \texttt{Activity.java} klassen kun har én grund til at blive ændret. Den grund vil indbefatte en ændring af definitionen, af hvad en aktivitet er, f.eks. en ændring af dets felter.

\subsection{Liskov substitution principle} \label{sec:solid_l}
Vi skelner i programmet imellem en fast aktivitet og en projekt aktivitet, hendholdsvis \texttt{RegularActivity} og \texttt{ProjecActivity}. Begge typer har behov for egenskaberne \textit{title}, \textit{startWeek} og \textit{endWeek}. For at sikre at kunne overholde de forventninger der er til disse egenskaber, er disse i en abstrakt klasse \texttt{Activity}, som underklasserne nedarver fra. Derudover skal projekt aktiviteter kunne håndtere tidsregistreringer. Istedet for at fylde \texttt{ProjectActivity}-klassen med metoder, nedarves igen fra en abstract klasse \texttt{ActivityWithWorktimeRegistration}. Se klassediagram herunder i \ref{fig:class_activity_example} 
\begin{figure}[H]
    \centering
    \caption{Klassediagram af \textit{aktivity} klasserne}
    \includegraphics[width = \textwidth, keepaspectratio]{TaskFusion/out/assets/diagrams/class_liskov_model_example/liskov_model_example.png}
    \label{fig:class_activity_example}
\end{figure}
På denne måde kan metoder relateret til tidsregistrering ikke kaldes fra \texttt{RegularActivity}, og det er samtidig muligt at udvide senere med aktiviteter der kan have tidsregisteringer eller ej.


\subsection{Interface segregation principle} \label{sec:solid_i}
\texttt{ConvertibleToViewModelInterface} er et interface der adskiller konverteringslogikken fra domæneobjekterne, se klassediagram herunder i \ref{}. Klasser som \texttt{Project} og \texttt{Employee} implementerer dette interface og kan dermed konverteres til en \texttt{ViewModel} til brug i præsentationslaget. På denne måde har vi en simpel og fokuseret kontrakt for domæneobjekter, der kan udvide deres funktionalitet uden at ændre deres kerneadfærd. 

\begin{figure}[H]
    \centering
    \caption{Klassediagram af \textit{aktivity} klasserne}
    \includegraphics[width = \textwidth, keepaspectratio]{TaskFusion/out/assets/diagrams/class_liskov_model_example/liskov_model_example.png}
    \label{fig:class_activity_example}
\end{figure}

\subsection{Dependency inverseion principle} \label{sec:solid_d}


